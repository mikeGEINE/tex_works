\subsection{Модуль \ocamlinlinecode{JSON.\allowbreak{}Make}}\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make}%
\ocamlinlinecode{Make} создаёт JSON ответы со всеми зависимостями.

\subsubsection{Параметры\label{parameters}}%
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables}\ocamlcodefragment{\ocamltag{keyword}{module} \hyperref[page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables]{\ocamlinlinecode{Variables}}}\ocamlcodefragment{ : \ocamltag{keyword}{sig}}\begin{ocamlindent}\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-type-entity}\ocamlcodefragment{\ocamltag{keyword}{type} entity}\begin{ocamlindent}тип \ocamlinlinecode{entity} - тип аутентифицируемой сущности, совпадающий с \ocamlinlinecode{MODEL}.t.\end{ocamlindent}%
\medbreak
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-val-authenticated}\ocamlcodefragment{\ocamltag{keyword}{val} authenticated : \hyperref[xref-unresolved]{\ocamlinlinecode{Base}}.\allowbreak{}bool \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}field}\begin{ocamlindent}\ocamlinlinecode{authenticated} - переменная, действительная в рамках одного запроса, отражает, была ли пройдена аутентификация ранее. Устанавливается в \ocamlinlinecode{SESSIONMANAGER}.auth\_setup.\end{ocamlindent}%
\medbreak
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-val-current+u+user}\ocamlcodefragment{\ocamltag{keyword}{val} current\_\allowbreak{}user : \hyperref[page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-type-entity]{\ocamlinlinecode{entity}} \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}field}\begin{ocamlindent}\ocamlinlinecode{current\_\allowbreak{}user} - переменная, действительная в рамках одного запроса, содержит аутентифицированную сущность (если ранее была пройдена аутентификация). Устанавливается в \ocamlinlinecode{SESSIONMANAGER}.auth\_setup\end{ocamlindent}%
\medbreak
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-val-auth+u+error}\ocamlcodefragment{\ocamltag{keyword}{val} auth\_\allowbreak{}error : \hyperref[xref-unresolved]{\ocamlinlinecode{Base}}.\allowbreak{}Error.\allowbreak{}t \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}field}\begin{ocamlindent}\ocamlinlinecode{auth\_\allowbreak{}error} - field-переменная с ошибкой, которая могла произойти на любом этапе аутентификации. Устанавливается в \ocamlinlinecode{AUTHENTICATOR}.authenticate.\end{ocamlindent}%
\medbreak
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-val-update+u+current+u+user}\ocamlcodefragment{\ocamltag{keyword}{val} update\_\allowbreak{}current\_\allowbreak{}user : \hyperref[page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-type-entity]{\ocamlinlinecode{entity}} \ocamltag{arrow}{$\rightarrow$} \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}request \ocamltag{arrow}{$\rightarrow$} \hyperref[xref-unresolved]{\ocamlinlinecode{Base}}.\allowbreak{}unit \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}promise}\begin{ocamlindent}\ocamlinlinecode{update\_\allowbreak{}current\_\allowbreak{}user user request} обновляет \hyperref[page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-argument-1-Variables-val-current+u+user]{\ocamlinlinecode{\ocamlinlinecode{current\_\allowbreak{}user}}} и сессию. Необходимо использовать в том случе, если были внесены изменения, влияющие на сериализацию.\end{ocamlindent}%
\medbreak
\end{ocamlindent}%
\ocamlcodefragment{\ocamltag{keyword}{end}}\\
\subsubsection{Сигнатура\label{signature}}%
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-val-login+u+successful}\ocamlcodefragment{\ocamltag{keyword}{val} login\_\allowbreak{}successful : \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}request \ocamltag{arrow}{$\rightarrow$} \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}response \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}promise}\begin{ocamlindent}\ocamlinlinecode{login\_\allowbreak{}successful} вызывается в случае, если аутентификация была успешна.\end{ocamlindent}%
\medbreak
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-val-login+u+error}\ocamlcodefragment{\ocamltag{keyword}{val} login\_\allowbreak{}error : \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}request \ocamltag{arrow}{$\rightarrow$} \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}response \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}promise}\begin{ocamlindent}\ocamlinlinecode{login\_\allowbreak{}error} вызывается в случае, если в рамках аутентификации произошла ошибка.\end{ocamlindent}%
\medbreak
\label{page-FPauth-responses-module-FPauth+u+responses-module-JSON-module-Make-val-logout}\ocamlcodefragment{\ocamltag{keyword}{val} logout : \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}request \ocamltag{arrow}{$\rightarrow$} \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}response \hyperref[xref-unresolved]{\ocamlinlinecode{Dream}}.\allowbreak{}promise}\begin{ocamlindent}\ocamlinlinecode{logout} вызывается после того, как аутентификация была сброшена.\end{ocamlindent}%
\medbreak


